{"version":3,"sources":["webpack:///./src/views/skill/two-way-binding-reference-type/two-way-binding-reference-type.vue?e820","webpack:///./src/views/skill/two-way-binding-reference-type/base-div/base-div.vue?3c3c","webpack:///src/views/skill/two-way-binding-reference-type/base-div/base-div.vue","webpack:///./src/views/skill/two-way-binding-reference-type/base-div/base-div.vue?a984","webpack:///./src/views/skill/two-way-binding-reference-type/base-div/base-div.vue","webpack:///./src/views/skill/two-way-binding-reference-type/base-div/index.js","webpack:///src/views/skill/two-way-binding-reference-type/two-way-binding-reference-type.vue","webpack:///./src/views/skill/two-way-binding-reference-type/two-way-binding-reference-type.vue?2f52","webpack:///./src/views/skill/two-way-binding-reference-type/two-way-binding-reference-type.vue","webpack:///./src/views/skill/two-way-binding-reference-type/index.js","webpack:///./src/components/control-panel/control-panel.vue?480c","webpack:///./src/components/control-panel/control-panel.vue?8e4e","webpack:///src/components/control-panel/control-panel.vue","webpack:///./src/components/control-panel/control-panel.vue?e254","webpack:///./src/components/control-panel/control-panel.vue","webpack:///./src/components/control-panel/index.js"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","on","handleClick","_v","handleOutput","model","value","callback","$$v","formValue","expression","attrs","_s","staticRenderFns","fieldValue","name","prop","event","props","insert","type","Object","Array","data","fieldValueStringify","JSON","stringify","methods","v","watch","deep","handler","currentValue","parse","$emit","component","BaseDiv","components","ControlPanel","k","isK","key","console","log","$event","TwoWayBindingReferenceType","class","position","style","width","currentWidth","_t","defaultProps","String","Number","default","validator","package","computed","parent","$data"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,wCAAwC,CAACF,EAAG,IAAI,CAACA,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQP,EAAIQ,cAAc,CAACR,EAAIS,GAAG,iCAAiCL,EAAG,IAAI,CAACA,EAAG,WAAW,CAACG,GAAG,CAAC,OAASP,EAAIU,cAAcC,MAAM,CAACC,MAAOZ,EAAa,UAAEa,SAAS,SAAUC,GAAMd,EAAIe,UAAUD,GAAKE,WAAW,gBAAgB,GAAGZ,EAAG,gBAAgB,CAACa,MAAM,CAAC,SAAW,UAAU,CAACjB,EAAIS,GAAG,eAAeT,EAAIkB,GAAGlB,EAAIe,WAAW,QAAQ,IACzfI,EAAkB,G,YCDlB,EAAS,WAAa,IAAInB,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,kBAAkB,CAACF,EAAG,SAAS,CAACG,GAAG,CAAC,MAAQP,EAAIQ,cAAc,CAACR,EAAIS,GAAG,uBAAuBL,EAAG,IAAI,CAACA,EAAG,IAAI,CAACJ,EAAIS,GAAG,gBAAgBT,EAAIkB,GAAGlB,EAAIoB,oBACjQ,EAAkB,GCStB,GACEC,KAAM,iBACNV,MAAO,CACLW,KAAM,SACNC,MAAO,UAETC,MAAO,CACLC,OAAQ,CACNC,KAAM,CAACC,OAAQC,SAGnBC,KAXF,WAYI,MAAO,CACLT,WAAYnB,KAAKwB,OACjBK,oBAAqBC,KAAKC,UAAU/B,KAAKwB,UAG7CQ,QAAS,CACPzB,YADJ,WAEMP,KAAKmB,WAAa,CAChBc,EAAG,OAITC,MAAO,CACLV,OAAQ,CACNW,MAAM,EACNC,QAFN,SAEA,GACQ,IAAR,oBAKYC,IAAiBrC,KAAKmB,aACxBnB,KAAKmB,WAAaW,KAAKQ,MAAMD,GAC7BrC,KAAK6B,oBAAsBQ,KAIjClB,WAAY,CACVgB,MAAM,EACNC,QAFN,SAEA,GAYQ,IAAR,oBACYC,IAAiBrC,KAAK6B,qBACxB7B,KAAKuC,MAAM,SAAUT,KAAKQ,MAAMD,QCjEqV,I,YCO3XG,EAAY,eACd,EACA,EACA,GACA,EACA,KACA,KACA,MAIa,EAAAA,E,QChBAC,ICiBf,GACErB,KAAM,uCACNsB,WAAY,CACVC,aAAJ,OACIF,QAAJ,GAEEb,KANF,WAOI,MAAO,CACLd,UAAW,CACT8B,EAAG,KAELC,KAAK,IAGTb,QAAS,CACPzB,YADJ,WAEUP,KAAK6C,KACP7C,KAAKc,UAAY,CACfgC,IAAK,SAEP9C,KAAK6C,KAAM,IAEX7C,KAAKc,UAAY,CACf8B,EAAG,KAEL5C,KAAK6C,KAAM,IAGfpC,aAdJ,SAcA,GACMsC,QAAQC,IAAIC,MChDoX,ICOlY,EAAY,eACd,EACAnD,EACAoB,GACA,EACA,KACA,KACA,MAIa,I,QChBAgC,gB,oCCFf,yBAAynB,EAAG,G,mhCCA5nB,IAAIpD,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,gBAAgB8C,MAAM,CACxI,CAAE,gBAAkC,SAAjBpD,EAAIqD,UACvB,CAAE,iBAAmC,UAAjBrD,EAAIqD,WACxBC,MAAM,CAAGC,MAAOvD,EAAIwD,eAAiB,CAACxD,EAAIyD,GAAG,UAAU,CAACzD,EAAIS,GAAGT,EAAIkB,GAAGlB,EAAI0D,kBAAkB,IAC5FvC,EAAkB,G,kCCStB,GACEE,KAAM,gBACNG,MAAO,CACL+B,MAAO,CACL7B,KAAM,CAACiC,OAAQC,QACfC,QAAS,SAEXR,SAAU,CACR3B,KAAMiC,OACNG,UAAW,SAAjB,2CACMD,QAAS,SAGbhC,KAbF,WAcI,MAAO,CACLkC,QAAS,IAGbC,SAAU,CACRN,aADJ,WAEM,IAAN,eACM,OAAIO,GAAUA,EAAOC,MACZD,EAAOC,MAEPjE,KAAKiE,OAGhBV,aATJ,WAUM,MAA0B,kBAAfvD,KAAKsD,MACPtD,KAAKsD,MAEL,GAAf,2BC5CsW,I,wBCQlWd,EAAY,eACd,EACA1C,EACAoB,GACA,EACA,KACA,KACA,MAIa,EAAAsB,E,QCjBAG","file":"js/chunk-284b13cf.f7e3a17c.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skill-two-way-binding-reference-type\"},[_c('p',[_c('button',{on:{\"click\":_vm.handleClick}},[_vm._v(\" parent-comonent's button\")])]),_c('p',[_c('base-div',{on:{\"output\":_vm.handleOutput},model:{value:(_vm.formValue),callback:function ($$v) {_vm.formValue=$$v},expression:\"formValue\"}})],1),_c('control-panel',{attrs:{\"position\":\"right\"}},[_vm._v(\" formValue: \"+_vm._s(_vm.formValue)+\" \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"skill-base-div\"},[_c('button',{on:{\"click\":_vm.handleClick}},[_vm._v(\"base-div's button\")]),_c('p',[_c('b',[_vm._v(\"fieldValue - \"+_vm._s(_vm.fieldValue))])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"skill-base-div\">\n    <button @click=\"handleClick\">base-div's button</button>\n    <p>\n      <b>fieldValue - {{ fieldValue }}</b>\n    </p>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: 'skill-base-div',\n  model: {\n    prop: 'insert',\n    event: 'output'\n  },\n  props: {\n    insert: {\n      type: [Object, Array]\n    }\n  },\n  data () {\n    return {\n      fieldValue: this.insert,\n      fieldValueStringify: JSON.stringify(this.insert) // 保存外部传入的变量快照，将在监听器中做比较使用\n    }\n  },\n  methods: {\n    handleClick () {\n      this.fieldValue = {\n        v: 'k'\n      }\n    }\n  },\n  watch: {\n    insert: {\n      deep: true, // 深度监听\n      handler (newVal) {\n        const currentValue = JSON.stringify(newVal)\n        // 外部传入的变量与内部变量比较\n        // 不相等，内部变量方可赋值为this.value\n        // * 内部变量赋值，将会触发fieldValue监听函数\n        // 且此时应更新fieldValue 对象字符串快照\n        if (currentValue !== this.fieldValue) {\n          this.fieldValue = JSON.parse(currentValue)\n          this.fieldValueStringify = currentValue\n        }\n      }\n    },\n    fieldValue: {\n      deep: true, // 为什么要使用深度监听呢？\n      handler (newVal) {\n        // 自己改变内部变量，或者因外部变量更新手动赋值内部变量\n        // 这个函数都会被触发\n        // 要实现的是内部与外部变量同步，所以快照才是保存外部变量\n        // 1.当外部变量改动，会先调用 watch value，此时内外部变量同步\n        //   这时不需要抛出事件，否则出现死循环\n        // 2.当内部变量改动，会先调用 watch fileldValue\n        //   抛出事件，外部的v-model又会自动更新内部的value\n        //   从而触发 watcu value\n        //  （这里触发watch value了，可以回去看看1）\n        //   如果你不会兜兜转，那我想你应该feel到了整个更新流程\n        // **如果被兜住了，先理解外部变量的改动，再理解内部变量的改动\n        const currentValue = JSON.stringify(newVal)\n        if (currentValue !== this.fieldValueStringify) {\n          this.$emit('output', JSON.parse(currentValue))\n        }\n      }\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./base-div.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./base-div.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./base-div.vue?vue&type=template&id=7f061330&\"\nimport script from \"./base-div.vue?vue&type=script&lang=js&\"\nexport * from \"./base-div.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import BaseDiv from './base-div'\n\nexport default BaseDiv\n","<template>\n  <div class=\"skill-two-way-binding-reference-type\">\n    <p>\n      <button @click=\"handleClick\"> parent-comonent's button</button>\n    </p>\n    <p>\n      <base-div v-model=\"formValue\" @output=\"handleOutput\"></base-div>\n    </p>\n    <control-panel\n      position=\"right\">\n      formValue: {{ formValue }}\n    </control-panel>\n  </div>\n</template>\n\n<script>\nimport ControlPanel from '@/components/control-panel'\nimport BaseDiv from './base-div'\n\nexport default {\n  name: 'skill-two-way-binding-reference-type',\n  components: {\n    ControlPanel,\n    BaseDiv\n  },\n  data () {\n    return {\n      formValue: {\n        k: 'v'\n      },\n      isK: true\n    }\n  },\n  methods: {\n    handleClick () {\n      if (this.isK) {\n        this.formValue = {\n          key: 'value'\n        }\n        this.isK = false\n      } else {\n        this.formValue = {\n          k: 'v'\n        }\n        this.isK = true\n      }\n    },\n    handleOutput ($event) {\n      console.log($event)\n    }\n  }\n}\n</script>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./two-way-binding-reference-type.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./two-way-binding-reference-type.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./two-way-binding-reference-type.vue?vue&type=template&id=20218572&\"\nimport script from \"./two-way-binding-reference-type.vue?vue&type=script&lang=js&\"\nexport * from \"./two-way-binding-reference-type.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import TwoWayBindingReferenceType from './two-way-binding-reference-type'\n\nexport default TwoWayBindingReferenceType\n\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./control-panel.vue?vue&type=style&index=0&lang=stylus&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--11-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--11-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--11-oneOf-1-2!../../../node_modules/stylus-loader/index.js??ref--11-oneOf-1-3!../../../node_modules/style-resources-loader/lib/index.js??ref--11-oneOf-1-4!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./control-panel.vue?vue&type=style&index=0&lang=stylus&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('pre',{staticClass:\"control-panel\",class:[\n    { 'position-left': _vm.position === 'left' },\n    { 'position-right': _vm.position === 'right' }\n  ],style:({ width: _vm.currentWidth })},[_vm._t(\"default\",[_vm._v(_vm._s(_vm.defaultProps))])],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <pre \n    class=\"control-panel\"\n    :style=\"{ width: currentWidth }\"\n    :class=\"[\n      { 'position-left': position === 'left' },\n      { 'position-right': position === 'right' }\n    ]\"><slot>{{ defaultProps }}</slot></pre>\n</template>\n\n<script>\nimport Package from \"@/../package.json\";\n\nexport default {\n  name: 'control-panel',\n  props: {\n    width: {\n      type: [String, Number],\n      default: '380px'\n    },\n    position: {\n      type: String,\n      validator: (val) => ['left', 'right'].indexOf(val) !== -1,\n      default: 'left'\n    }\n  },\n  data () {\n    return {\n      package: Package\n    }\n  },\n  computed: {\n    defaultProps () {\n      const parent = this.$parent\n      if (parent && parent.$data) {\n        return parent.$data\n      } else {\n        return this.$data\n      }\n    },\n    currentWidth () {\n      if (typeof this.width === 'string') {\n        return this.width\n      } else {\n        return `${this.width}px`\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"stylus\">\n.control-panel {\n  position: absolute;\n  z-index: 999999;\n  top: 20px;\n  bottom: 20px;\n  width: 380px;\n  overflow: auto;\n  background: rgba(0, 0, 0, 0.7); // 建议半透明背景\n  color: #34ecff; // 亮色的颜色即可\n  font-size: 16px;\n  font-weight: normal;\n  line-height: 20px;\n  text-indent: 0;\n}\n.position-left {\n  left: 20px;\n}\n.position-right {\n  right: 20px;\n}\n</style>\n\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./control-panel.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./control-panel.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./control-panel.vue?vue&type=template&id=2c3f049a&\"\nimport script from \"./control-panel.vue?vue&type=script&lang=js&\"\nexport * from \"./control-panel.vue?vue&type=script&lang=js&\"\nimport style0 from \"./control-panel.vue?vue&type=style&index=0&lang=stylus&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import ControlPanel from './control-panel'\n\nexport default ControlPanel\n"],"sourceRoot":""}